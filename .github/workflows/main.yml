name: CI

on:
  push:
    branches: [mymaster]
  pull_request:
    branches: [mymaster]
  schedule:
    - cron: "55 5 * * *"

jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - uses: actions/checkout@v2

      - name: Validate links
        uses: lycheeverse/lychee-action@v1.3.2
        with:
          # --exclude-all-private --exclude-mail excludes private sites and emails
          # --no-progress exclude progress bar (interactice shell)
          # --exclude .github/workflows/.lycheeignore exclude sites (regex per line) for stubborn domains
          args: --exclude-all-private --exclude-mail --no-progress README.md --exclude .github/workflows/.lycheeignore
          # Outpud more detail that the default
          format: detailed
          # Fail action on broken links
          fail: true
